<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Border Animation Button</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0a;
            color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .demo-container {
            text-align: center;
        }

        .demo-container h2 {
            margin-bottom: 1rem;
            color: #888;
            font-size: 1rem;
            font-weight: 500;
        }

        /* Main Button Component */
        .animated-border-btn {
            position: relative;
            display: inline-block;
            padding: 12px 24px;
            background: #1a1a1a;
            color: #ffffff;
            text-decoration: none;
            border: 2px solid #333;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease;
            overflow: hidden;
        }

        .animated-border-btn:hover {
            background: #222;
        }

        /* Border Animation Elements */
        .animated-border-btn::before,
        .animated-border-btn::after {
            content: '';
            position: absolute;
            background: #0091ff;
            opacity: 0;
            transition: opacity 0.1s ease;
        }

        /* Top border */
        .animated-border-btn::before {
            top: 0;
            left: 0;
            width: 0;
            height: 2px;
            border-radius: 0;
        }

        /* Right border */
        .animated-border-btn::after {
            top: 0;
            right: 0;
            width: 2px;
            height: 0;
            border-radius: 0;
        }

        /* Bottom and Left borders using pseudo elements on hover */
        .animated-border-btn:hover::before {
            opacity: 1;
            animation: borderTop 0.3s ease-out forwards;
        }

        .animated-border-btn:hover::after {
            opacity: 1;
            animation: borderRight 0.3s ease-out 0.3s forwards;
        }

        /* Enhanced version with all 4 sides */
        .animated-border-btn-v2 {
            position: relative;
            display: inline-block;
            padding: 12px 24px;
            background: #1a1a1a;
            color: #ffffff;
            text-decoration: none;
            border: 2px solid #333;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease;
            overflow: visible;
        }

        .animated-border-btn-v2:hover {
            background: #222;
            border-color: transparent;
        }

        /* Container for all border segments */
        .animated-border-btn-v2::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 8px;
            opacity: 0;
            background: 
                linear-gradient(90deg, #0091ff 0%, #0091ff 100%) top left / 0% 2px no-repeat,
                linear-gradient(180deg, #0091ff 0%, #0091ff 100%) top right / 2px 0% no-repeat,
                linear-gradient(270deg, #0091ff 0%, #0091ff 100%) bottom right / 0% 2px no-repeat,
                linear-gradient(360deg, #0091ff 0%, #0091ff 100%) bottom left / 2px 0% no-repeat;
            pointer-events: none;
        }

        .animated-border-btn-v2:hover::before {
            opacity: 1;
            animation: drawBorder 1.2s ease-out forwards;
        }

        /* Better implementation using SVG-like approach */
        .animated-border-btn-v3 {
            position: relative;
            display: inline-block;
            padding: 12px 24px;
            background: #1a1a1a;
            color: #ffffff;
            text-decoration: none;
            border: 2px solid #333;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease;
            overflow: hidden;
        }

        .animated-border-btn-v3:hover {
            background: #222;
            border-color: transparent;
        }

        /* Top border line */
        .animated-border-btn-v3::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            width: 0;
            height: 2px;
            background: #0091ff;
            opacity: 0;
            border-radius: 2px 0 0 0;
        }

        /* Right border line */
        .animated-border-btn-v3::after {
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            width: 2px;
            height: 0;
            background: #0091ff;
            opacity: 0;
            border-radius: 0 2px 0 0;
        }

        .animated-border-btn-v3:hover::before {
            opacity: 1;
            animation: drawTop 0.3s ease-out forwards;
        }

        .animated-border-btn-v3:hover::after {
            opacity: 1;
            animation: drawRight 0.3s ease-out 0.3s forwards;
        }

        /* Most accurate implementation */
        .border-runner {
            position: relative;
            display: inline-block;
            padding: 12px 24px;
            background: #1a1a1a;
            color: #ffffff;
            text-decoration: none;
            border: 2px solid #333;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .border-runner:hover {
            background: #222;
        }

        .border-runner .border-line {
            position: absolute;
            background: #0091ff;
            opacity: 0;
            pointer-events: none;
        }

        .border-runner .border-top {
            top: -2px;
            left: -2px;
            width: 0;
            height: 2px;
            border-radius: 2px 0 0 0;
        }

        .border-runner .border-right {
            top: -2px;
            right: -2px;
            width: 2px;
            height: 0;
            border-radius: 0 2px 0 0;
        }

        .border-runner .border-bottom {
            bottom: -2px;
            right: -2px;
            width: 0;
            height: 2px;
            border-radius: 0 0 2px 0;
        }

        .border-runner .border-left {
            bottom: -2px;
            left: -2px;
            width: 2px;
            height: 0;
            border-radius: 0 0 0 2px;
        }

        .border-runner:hover .border-top {
            opacity: 1;
            animation: expandWidth 0.3s ease-out forwards;
        }

        .border-runner:hover .border-right {
            opacity: 1;
            animation: expandHeight 0.3s ease-out 0.3s forwards;
        }

        .border-runner:hover .border-bottom {
            opacity: 1;
            animation: expandWidthReverse 0.3s ease-out 0.6s forwards;
        }

        .border-runner:hover .border-left {
            opacity: 1;
            animation: expandHeightReverse 0.3s ease-out 0.9s forwards;
        }

        /* Keyframe Animations */
        @keyframes expandWidth {
            0% { width: 0; }
            100% { width: calc(100% + 4px); }
        }

        @keyframes expandHeight {
            0% { height: 0; }
            100% { height: calc(100% + 4px); }
        }

        @keyframes expandWidthReverse {
            0% { width: 0; }
            100% { width: calc(100% + 4px); }
        }

        @keyframes expandHeightReverse {
            0% { height: 0; }
            100% { height: calc(100% + 4px); }
        }

        /* Fallback animations */
        @keyframes drawTop {
            0% { width: 0; }
            100% { width: calc(100% + 4px); }
        }

        @keyframes drawRight {
            0% { height: 0; }
            100% { height: calc(100% + 4px); }
        }

        @keyframes drawBorder {
            0% {
                background-size: 0% 2px, 2px 0%, 0% 2px, 2px 0%;
            }
            25% {
                background-size: 100% 2px, 2px 0%, 0% 2px, 2px 0%;
            }
            50% {
                background-size: 100% 2px, 2px 100%, 0% 2px, 2px 0%;
            }
            75% {
                background-size: 100% 2px, 2px 100%, 100% 2px, 2px 0%;
            }
            100% {
                background-size: 100% 2px, 2px 100%, 100% 2px, 2px 100%;
            }
        }

        /* Button Variations */
        .btn-primary {
            background: #0091ff;
            border-color: #0091ff;
            color: white;
        }

        .btn-primary:hover {
            background: #0078d4;
        }

        .btn-outline {
            background: transparent;
            border-color: #0091ff;
            color: #0091ff;
        }

        .btn-outline:hover {
            background: rgba(0, 145, 255, 0.1);
        }

        .btn-large {
            padding: 16px 32px;
            font-size: 18px;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 14px;
        }

        .btn-rounded {
            border-radius: 50px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
                gap: 1rem;
            }
            
            .animated-border-btn,
            .animated-border-btn-v2,
            .animated-border-btn-v3,
            .border-runner {
                padding: 10px 20px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h2>Border Runner (Recommended)</h2>
        <button class="border-runner">
            <span class="border-line border-top"></span>
            <span class="border-line border-right"></span>
            <span class="border-line border-bottom"></span>
            <span class="border-line border-left"></span>
            Hover Me
        </button>
    </div>

    <div class="demo-container">
        <h2>CSS-Only Version</h2>
        <button class="animated-border-btn-v2">Hover Me</button>
    </div>

    <div class="demo-container">
        <h2>Primary Style</h2>
        <button class="border-runner btn-primary">
            <span class="border-line border-top"></span>
            <span class="border-line border-right"></span>
            <span class="border-line border-bottom"></span>
            <span class="border-line border-left"></span>
            Get Started
        </button>
    </div>

    <div class="demo-container">
        <h2>Large + Rounded</h2>
        <button class="border-runner btn-large btn-rounded">
            <span class="border-line border-top"></span>
            <span class="border-line border-right"></span>
            <span class="border-line border-bottom"></span>
            <span class="border-line border-left"></span>
            Download
        </button>
    </div>

    <script>
        // Enhanced Border Runner with JavaScript control
        class BorderRunner {
            constructor(element) {
                this.element = element;
                this.isAnimating = false;
                this.animationDuration = 1200; // Total animation time in ms
                this.init();
            }

            init() {
                // Ensure border elements exist
                if (!this.element.querySelector('.border-line')) {
                    this.createBorderElements();
                }

                this.borderElements = {
                    top: this.element.querySelector('.border-top'),
                    right: this.element.querySelector('.border-right'),
                    bottom: this.element.querySelector('.border-bottom'),
                    left: this.element.querySelector('.border-left')
                };

                // Add event listeners
                this.element.addEventListener('mouseenter', () => {
                    this.startAnimation();
                });

                this.element.addEventListener('mouseleave', () => {
                    this.resetAnimation();
                });
            }

            createBorderElements() {
                const positions = ['top', 'right', 'bottom', 'left'];
                positions.forEach(pos => {
                    const span = document.createElement('span');
                    span.className = `border-line border-${pos}`;
                    this.element.appendChild(span);
                });
            }

            startAnimation() {
                if (this.isAnimating) return;
                this.isAnimating = true;

                // Reset all borders
                Object.values(this.borderElements).forEach(el => {
                    el.style.opacity = '0';
                    if (el.classList.contains('border-top') || el.classList.contains('border-bottom')) {
                        el.style.width = '0';
                    } else {
                        el.style.height = '0';
                    }
                });

                // Animate each border in sequence
                this.animateBorder('top', 0);
                this.animateBorder('right', 300);
                this.animateBorder('bottom', 600);
                this.animateBorder('left', 900);
            }

            animateBorder(position, delay) {
                setTimeout(() => {
                    const element = this.borderElements[position];
                    element.style.opacity = '1';
                    element.style.transition = 'all 0.3s ease-out';
                    
                    if (position === 'top' || position === 'bottom') {
                        element.style.width = 'calc(100% + 4px)';
                    } else {
                        element.style.height = 'calc(100% + 4px)';
                    }
                }, delay);
            }

            resetAnimation() {
                setTimeout(() => {
                    this.isAnimating = false;
                    Object.values(this.borderElements).forEach(el => {
                        el.style.transition = 'opacity 0.3s ease';
                        el.style.opacity = '0';
                    });
                }, this.animationDuration);
            }

            // Method to trigger animation programmatically
            triggerAnimation() {
                this.element.dispatchEvent(new Event('mouseenter'));
                setTimeout(() => {
                    this.element.dispatchEvent(new Event('mouseleave'));
                }, 100);
            }
        }

        // Initialize all border runner buttons
        document.addEventListener('DOMContentLoaded', () => {
            const buttons = document.querySelectorAll('.border-runner');
            buttons.forEach(button => {
                new BorderRunner(button);
            });
        });

        // Utility function to create border runner buttons dynamically
        function createBorderRunner(text, className = '') {
            const button = document.createElement('button');
            button.className = `border-runner ${className}`;
            button.innerHTML = `
                <span class="border-line border-top"></span>
                <span class="border-line border-right"></span>
                <span class="border-line border-bottom"></span>
                <span class="border-line border-left"></span>
                ${text}
            `;
            new BorderRunner(button);
            return button;
        }
    </script>
</body>
</html>