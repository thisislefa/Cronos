<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise Service Cost Estimator</title>
    <!-- Load Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* ============================================================
          CSS Resets & Base Styles (1px Border Radius enforced)
          ============================================================
        */
        :root {
            --color-primary: #0f172a; /* Slate-900 / Deep Charcoal */
            --color-secondary: #7d7d7d; /* Gray-300 / Light Gray */
            --color-accent: #f97316; /* Orange-500 */
            --color-bg-light: #fff; /* Slate-50 */
        }
        
        *, ::before, ::after {
            box-sizing: border-box;
            border-width: 0;
            border-style: solid;
            border-color: #e5e7eb;
        }

        html { line-height: 1.6; -webkit-text-size-adjust: 100%; }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            line-height: inherit;
            background-color: var(--color-bg-light); 
            color: #1f2937;
        }
        
        h1, h2, h3, h4, p, ul { margin: 0; padding: 0; }
        ul { list-style: none; }
        
        /* Enforce 1px radius globally */
        .hprn-pricing-body, .hprn-estimate-bar, .hprn-pricing-btn-secondary,
        .hprn-pricing-feature-card, .hprn-pricing-sidebar-box,
        .hprn-service-list-item input[type="checkbox"], .hprn-calc-input,
        .hprn-calc-select, .hprn-calc-checkbox {
            border-radius: 1px !important; 
        }

        /* ============================================================
          Header & Estimate Bar (NOT STICKY)
          ============================================================
        */
        .hprn-pricing-container {
            width: 100%;
            max-width: 80rem; 
            margin-left: auto;
            margin-right: auto;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        @media (min-width: 640px) {
            .hprn-pricing-container { padding-left: 1.5rem; padding-right: 1.5rem; }
        }

        .hprn-pricing-hero {
            background-color: var(--color-primary);
            color: #ffffff;
            padding-top: 3rem;
            padding-bottom: 3rem;
            
            /* === REMOVED STICKY POSITION === */
        }
        .hprn-pricing-hero-text h1 {
            font-size: 2rem; 
            font-weight: 800;
            color: #ffffff;
            line-height: 1.2;
        }
        .hprn-pricing-hero-text p {
            margin-top: 0.75rem;
            font-size: 1rem;
            color: #cbd5e1;
        }

        /* Estimate Display Bar */
        .hprn-estimate-bar {
            background-color: #1e293b; /* Slate-800 */
            padding: 1.5rem;
            color: #ffffff;
            margin-top: 2rem;
            border-left: 4px solid var(--color-accent); /* Accent border */
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        @media (min-width: 640px) {
             .hprn-estimate-bar { 
                flex-direction: row; 
                justify-content: space-between; 
                align-items: center; 
            }
        }

        .hprn-estimate-bar-group {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 0.5rem;
        }
        @media (min-width: 640px) {
            .hprn-estimate-bar-group {
                 flex-direction: row;
                 align-items: center;
                 gap: 2rem;
            }
        }

        .hprn-estimate-bar-item h3 {
            font-size: 0.875rem;
            font-weight: 500;
            color: #94a3b8;
        }
        .hprn-estimate-bar .total-amount {
            font-size: 1.25rem; 
            font-weight: 700;
            color: var(--color-accent); /* Orange */
        }
        .hprn-estimate-bar .total-amount-secondary {
            font-size: 1.25rem; 
            font-weight: 700;
            color: var(--color-secondary); /* Teal */
        }

        .hprn-pricing-btn-secondary {
            background-color: #334155; 
            border: 1px solid #475569; 
            color: #fff; 
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            transition: all 0.2s;
            cursor: pointer;
            font-size: 0.9375rem;
            white-space: nowrap;
            letter-spacing: 0.025em;
            font-family: 'Inter', sans-serif;
        }
        .hprn-pricing-btn-secondary:hover { background-color: #475569; }


        /* ============================================================
          Main Content Section
          ============================================================
        */
        .hprn-pricing-main-wrapper > .hprn-pricing-container {
            padding-top: 3rem;
            padding-bottom: 6rem;
        }

        .hprn-console-flex {
            display: flex;
            flex-direction: column;
            gap: 3rem;
        }
        
        /* === Service Selector (Sidebar) === */
        .hprn-pricing-sidebar { width: 100%; }
        .hprn-pricing-sidebar-box {
            background-color: #f9fafb;
            padding: 1.5rem;
            border: 1px solid #e2e8f0;
            margin-bottom: 2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .hprn-pricing-sidebar-box h3 {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 0.75rem;
         }
        .hprn-service-list h4 {
            font-size: 0.9375rem;
            font-weight: 700;
            color: var(--color-secondary);
            margin-top: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e2e8f0;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        .hprn-service-list-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 0.25rem;
            cursor: pointer;
        }
        .hprn-service-list-item:hover { background-color: var(--color-bg-light); }
        .hprn-service-list-item input[type="checkbox"] {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
            cursor: pointer;
            accent-color: var(--color-accent); 
        }
        .hprn-service-list-item label {
            font-weight: 500;
            font-size: 1rem;
            color: #374151;
            flex-grow: 1;
            cursor: pointer;
        }
        
        /* === Service Configuration Details === */
        .hprn-pricing-main-content { width: 100%; }
        .config-group-title {
            font-size: 1.55rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #c4c4c4;
            padding-bottom: 0.75rem;
        }

        .hprn-pricing-feature-card {
            border: 1px solid #e2e8f0;
            padding: 2rem;
            background-color: #f9fafb;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            margin-bottom: 2rem;
            transition: transform 0.2s;
        }
        .hprn-pricing-feature-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }

        .hprn-pricing-feature-card h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }
        .hprn-pricing-feature-card p.card-description {
            color: #64748b;
            font-size: 0.9375rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px dashed #e2e8f0;
            padding-bottom: 1rem;
        }

        /* Input Layout for Duration/Units */
        .hprn-calc-input-row {
            display: flex;
            gap: 1rem;
        }
        
        /* Apply to inputs that need special styling for combined fields */
        .hprn-calc-input.duration-value {
            flex-grow: 1;
        }
        .hprn-calc-select.duration-unit {
            width: 100%; /* Default to full width on mobile */
            max-width: 120px;
        }

        /* ============================================================
          Input Styles 
          ============================================================
        */
        .hprn-calc-input-group { margin-bottom: 1.5rem; }
        .hprn-calc-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            font-size: 0.9375rem;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        .hprn-calc-price {
            font-weight: 500;
            color: var(--color-accent);
        }
        
        .hprn-calc-input, .hprn-calc-select {
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.2s;
            background-color: #ffffff;
            color: #1f2937;
            width: 100%;
        }
        
        .hprn-calc-input:focus, .hprn-calc-select:focus {
            outline: none;
            border-color: var(--color-secondary);
            box-shadow: 0 0 0 1px rgba(6, 182, 212, 0.5); 
        }

        /* === Desktop Media Query (lg) === */
        @media (min-width: 1024px) { 
            .hprn-console-flex {
                flex-direction: row; 
                align-items: flex-start; 
            }
            .hprn-pricing-main-content { width: 66.666667%; }
            .hprn-pricing-sidebar { width: 33.333333%; }
        }
        
        /* Footer */
        .hprn-pricing-footer {
            background-color: #e2e8f0;
            padding: 2rem 0;
            font-size: 0.875rem;
            color: #4b5563;
        }
        .hprn-pricing-footer h4 {
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body class="hprn-pricing-body">

    <!-- 
      ============================================================
      Header & Estimate Bar (Scrolling)
      ============================================================
    -->
    <header class="hprn-pricing-hero">
        <div class="hprn-pricing-container">
            <!-- Header Text Content -->
            <div class="hprn-pricing-hero-text">
                <h1>Enterprise Service Configuration Console</h1>
                <p>Tailor your complex service solution across Software, Infrastructure, and Marketing. Estimate costs based on duration, scale, and commitment level.</p>
            </div>
            
            <!-- Estimate Display Bar -->
            <div class="hprn-estimate-bar">
                <div class="hprn-estimate-bar-group">
                    <div class="hprn-estimate-bar-item">
                        <h3>Estimated Annualized OpEx (with commitment discount)</h3>
                        <span class="total-amount-secondary" id="total-annualized-display">R 0.00</span>
                    </div>
                    <div class="hprn-estimate-bar-item">
                        <h3>Estimated Monthly OpEx</h3>
                        <span class="total-amount" id="total-monthly-display">R 0.00</span>
                    </div>
                    <div class="hprn-estimate-bar-item">
                        <h3>Estimated Once-Off CapEx</h3>
                        <span class="total-amount-secondary" id="total-once-off-display">R 0.00</span>
                    </div>
                </div>
                <button type="reset" form="calc-form" class="hprn-pricing-btn-secondary">
                    Clear All Configurations
                </button>
            </div>
        </div>
    </header>

    <!-- 
      ============================================================
      Main Content (Service Configuration and Selection)
      ============================================================
    -->
    <main class="hprn-pricing-main-wrapper">
        <div class="hprn-pricing-container">
            <div class="hprn-console-flex">

                <!-- 
                    =======================================
                    SIDEBAR: SERVICE SELECTION MENU
                    =======================================
                -->
                <aside class="hprn-pricing-sidebar">
                    
                    <!-- Sidebar Card: Service Selector -->
                    <div class="hprn-pricing-sidebar-box">
                        <h3>Service Scope Selector</h3>
                        <p style="margin-bottom: 1rem; font-size: 0.9rem; color: #64748b;">Activate service groups to reveal configuration options.</p>
                        
                        <div class="hprn-service-list">
                            
                            <h4>Software Development (CapEx & OpEx)</h4>
                            <div class="hprn-service-list-item">
                                <input type="checkbox" id="check-dev-hours" data-target="config-dev-hours">
                                <label for="check-dev-hours">Bespoke Software Development (CapEx)</label>
                            </div>
                            <div class="hprn-service-list-item">
                                <input type="checkbox" id="check-devops" data-target="config-devops">
                                <label for="check-devops">Enterprise DevOps & Web3 Maintenance (OpEx)</label>
                            </div>

                            <h4>Managed IT Infrastructure (OpEx)</h4>
                            <div class="hprn-service-list-item">
                                <input type="checkbox" id="check-cloud-compute" data-target="config-cloud-compute">
                                <label for="check-cloud-compute">IT Consulting & Cloud Computing (OpEx)</label>
                            </div>
                            <div class="hprn-service-list-item">
                                <input type="checkbox" id="check-support-plan" data-target="config-support-plan">
                                <label for="check-support-plan">Global IT Support & Staff Augmentation (OpEx)</label>
                            </div>
                            <div class="hprn-service-list-item">
                                <input type="checkbox" id="check-datacenter" data-target="config-datacenter">
                                <label for="check-datacenter">Data Center Management & CCTV (OpEx)</label>
                            </div>
                            
                            <h4>Marketing & Creative Studio (OpEx & CapEx)</h4>
                            <div class="hprn-service-list-item">
                                <input type="checkbox" id="check-marketing" data-target="config-marketing">
                                <label for="check-marketing">Advertising Campaigns & Strategy (OpEx)</label>
                            </div>
                            <div class="hprn-service-list-item">
                                <input type="checkbox" id="check-design-hours" data-target="config-design-hours">
                                <label for="check-design-hours">Content & Multimedia Production (CapEx/OpEx)</label>
                            </div>

                            <h4>Hardware & Smart Tech (CapEx)</h4>
                            <div class="hprn-service-list-item">
                                <input type="checkbox" id="check-hardware" data-target="config-hardware">
                                <label for="check-hardware">Enterprise Hardware Procurement (CapEx)</label>
                            </div>
                        </div>

                    </div>
                    
                    <!-- Sidebar Card: Info -->
                    <div class="hprn-pricing-sidebar-box">
                         <h3>Cost & Discount Factors</h3>
                        <p style="font-size: 0.875rem; color: #64748b;">
                            All prices are estimated in **South African Rands (ZAR)**. OpEx represents monthly recurring costs. Annual OpEx commitment includes a **10% Volume Discount**. Conversions are based on standard 8-hour days and 4-week months.
                        </p>
                    </div>

                </aside>
                
                <!-- 
                    =======================================
                    MAIN CONTENT: CONFIGURATION DETAILS
                    =======================================
                -->
                <form class="hprn-pricing-main-content" id="calc-form">
                    
                    <h2 style="font-size: 1.5rem; font-weight: 700; color: #111827;">Service Configuration</h2>
                    <p style="color: #4b5563; margin-bottom: 2rem; font-size: 0.9375rem;">Set the parameters for your high-standard enterprise solution.</p>


                    <!-- Group 1: Software Development -->
                    <div class="config-group-title">Software Development</div>
                    
                    <!-- SERVICE BLOCK: Project Dev Hours (CapEx) - DURATION LOGIC -->
                    <div class="hprn-pricing-feature-card service-block" id="config-dev-hours">
                        <h3>Bespoke Software Development (Web/Mobile/API)</h3>
                        <p class="card-description">Estimate the total effort required for the initial project build (CapEx).</p>

                        <div class="hprn-calc-input-group">
                            <label class="hprn-calc-label">
                                <span>Required Development Effort</span>
                                <span class="hprn-calc-price">R 1,200.00 / Effective Hour (CapEx)</span>
                            </label>
                            <div class="hprn-calc-input-row">
                                <input type="number" name="dev-duration-num" id="dev-duration-num" class="hprn-calc-input duration-value" min="0" value="0" step="1">
                                <select name="dev-duration-unit" id="dev-duration-unit" class="hprn-calc-select duration-unit">
                                    <option value="1">Hours</option>
                                    <option value="8">Days (8 hours)</option>
                                    <option value="40">Weeks (40 hours)</option>
                                    <option value="160">Months (160 hours)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- SERVICE BLOCK: DevOps Plan (OpEx) - ANNUAL COMMITMENT -->
                    <div class="hprn-pricing-feature-card service-block" id="config-devops">
                        <h3>Enterprise DevOps & Web3 Maintenance</h3>
                        <p class="card-description">Ongoing monitoring, CI/CD pipeline management, and blockchain node maintenance (OpEx).</p>
                        
                        <div class="hprn-calc-input-group">
                             <label for="devops-plan" class="hprn-calc-label">
                                <span>Select Tier</span>
                             </label>
                             <select name="devops-plan" id="devops-plan" class="hprn-calc-select">
                                 <option value="0">0 - None (R 0.00 /mo)</option>
                                 <option value="25000">1 - Advanced Monitoring & Patches (R 25,000.00 /mo)</option>
                                 <option value="65000">2 - Full Automation, CI/CD & Security (R 65,000.00 /mo)</option>
                                 <option value="120000">3 - Managed Web3 Infrastructure & Scaling (R 120,000.00 /mo)</option>
                             </select>
                        </div>
                        <div class="hprn-calc-input-group">
                            <label for="devops-commitment" class="hprn-calc-label">
                                <span>Annual Commitment (10% Discount)</span>
                            </label>
                            <select name="devops-commitment" id="devops-commitment" class="hprn-calc-select">
                                <option value="1">Monthly</option>
                                <option value="12">Annual (Save 10%)</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Group 2: Managed IT Infrastructure -->
                    <div class="config-group-title">Managed IT Infrastructure</div>

                    <!-- SERVICE BLOCK: Cloud Computing (OpEx) - ANNUAL COMMITMENT -->
                    <div class="hprn-pricing-feature-card service-block" id="config-cloud-compute">
                        <h3>IT Consulting & Cloud Computing</h3>
                        <p class="card-description">Managed infrastructure, cloud resources, and strategic consulting time (OpEx).</p>
                        
                        <div class="hprn-calc-input-group">
                            <label for="cloud-vm-num" class="hprn-calc-label">
                                <span>Number of High-Availability VMs/Containers</span>
                                <span class="hprn-calc-price">R 2,200.00 /VM/mo</span>
                            </label>
                            <input type="number" name="cloud-vm-num" id="cloud-vm-num" class="hprn-calc-input" min="0" max="100" value="0">
                        </div>
                        <div class="hprn-calc-input-group">
                            <label for="cloud-commitment" class="hprn-calc-label">
                                <span>Annual Commitment (10% Discount)</span>
                            </label>
                            <select name="cloud-commitment" id="cloud-commitment" class="hprn-calc-select">
                                <option value="1">Monthly</option>
                                <option value="12">Annual (Save 10%)</option>
                            </select>
                        </div>
                    </div>

                    <!-- SERVICE BLOCK: IT Support Plan (OpEx) - STAFF SIZE SCALING -->
                    <div class="hprn-pricing-feature-card service-block" id="config-support-plan">
                        <h3>Global IT Support & Staff Augmentation</h3>
                        <p class="card-description">Tiered SLA support package plus per-user license/support fee (OpEx).</p>
                        
                        <div class="hprn-calc-input-group">
                             <label for="support-plan" class="hprn-calc-label">
                                <span>Select Base SLA Tier</span>
                             </label>
                             <select name="support-plan" id="support-plan" class="hprn-calc-select">
                                 <option value="0">0 - None (R 0.00 /mo)</option>
                                 <option value="12000">1 - Basic 8/5 Helpdesk & Onboarding (R 12,000.00 /mo)</option>
                                 <option value="35000">2 - Pro 24/7 Managed Services & Consultancy (R 35,000.00 /mo)</option>
                             </select>
                        </div>
                        <div class="hprn-calc-input-group">
                            <label for="staff-size-num" class="hprn-calc-label">
                                <span>Number of Supported Staff Users</span>
                                <span class="hprn-calc-price">R 1,500.00 /user/mo</span>
                            </label>
                            <input type="number" name="staff-size-num" id="staff-size-num" class="hprn-calc-input" min="0" max="500" value="0" step="10">
                        </div>
                    </div>
                    
                    <!-- SERVICE BLOCK: Data Center & Surveillance (OpEx) -->
                    <div class="hprn-pricing-feature-card service-block" id="config-datacenter">
                        <h3>Data Center Management & CCTV</h3>
                        <p class="card-description">Remote monitoring, maintenance, and compliance reporting (OpEx).</p>
                        <div class="hprn-calc-input-group">
                            <label for="datacenter-sites-num" class="hprn-calc-label">
                                <span>Number of Data Center Sites or Major Racks</span>
                                <span class="hprn-calc-price">R 15,000.00 /site/mo</span>
                            </label>
                            <input type="number" name="datacenter-sites-num" id="datacenter-sites-num" class="hprn-calc-input" min="0" max="10" value="0" step="1">
                        </div>
                        <div class="hprn-calc-input-group">
                            <label for="cctv-points-num" class="hprn-calc-label">
                                <span>Number of Managed CCTV/Smart Technology Endpoints</span>
                                <span class="hprn-calc-price">R 600.00 /point/mo</span>
                            </label>
                            <input type="number" name="cctv-points-num" id="cctv-points-num" class="hprn-calc-input" min="0" max="200" value="0" step="10">
                        </div>
                    </div>

                    <!-- Group 3: Marketing & Creative Studio -->
                    <div class="config-group-title">Marketing & Creative Studio</div>

                    <!-- SERVICE BLOCK: Digital Marketing Plan (OpEx) - DURATION LOGIC -->
                    <div class="hprn-pricing-feature-card service-block" id="config-marketing">
                        <h3>Advertising Campaigns & Strategy</h3>
                        <p class="card-description">Management fees for large-scale digital marketing efforts (excludes ad spend) (OpEx).</p>
                        
                        <div class="hprn-calc-input-group">
                             <label for="marketing-plan" class="hprn-calc-label">
                                <span>Select Campaign Management Tier (Monthly Rate)</span>
                             </label>
                             <select name="marketing-plan" id="marketing-plan" class="hprn-calc-select">
                                 <option value="0">0 - None (R 0.00 /mo)</option>
                                 <option value="40000">1 - Targeted Digital Strategy (R 40,000.00 /mo)</option>
                                 <option value="85000">2 - Full Funnel Management & Analytics (R 85,000.00 /mo)</option>
                             </select>
                        </div>
                        <div class="hprn-calc-input-group">
                            <label for="campaign-duration-num" class="hprn-calc-label">
                                <span>Planned Campaign Duration</span>
                            </label>
                            <div class="hprn-calc-input-row">
                                <input type="number" name="campaign-duration-num" id="campaign-duration-num" class="hprn-calc-input duration-value" min="0" value="0" step="1">
                                <select name="campaign-duration-unit" id="campaign-duration-unit" class="hprn-calc-select duration-unit">
                                    <option value="1">Months</option>
                                    <option value="4">Quarters (3 Months)</option>
                                    <option value="12">Year (12 Months)</option>
                                </select>
                            </div>
                            <p style="font-size: 0.8rem; color: #94a3b8; margin-top: 0.5rem;">Total OpEx for this service will be multiplied by this duration.</p>
                        </div>
                    </div>

                    <!-- SERVICE BLOCK: Graphic Design Retainer (OpEx) -->
                    <div class="hprn-pricing-feature-card service-block" id="config-design-hours">
                        <h3>Content & Multimedia Production</h3>
                        <p class="card-description">Fixed monthly retainer for graphic design, content management, and multimedia (OpEx).</p>
                        <div class="hprn-calc-input-group">
                            <label for="design-hours-num" class="hprn-calc-label">
                                <span>Monthly Retainer Hours</span>
                                <span class="hprn-calc-price">R 900.00 /hour/mo</span>
                            </label>
                            <input type="number" name="design-hours-num" id="design-hours-num" class="hprn-calc-input" min="0" max="150" value="0" step="5">
                        </div>
                        <div class="hprn-calc-input-group">
                            <label for="design-cap-ex" class="hprn-calc-label">
                                <span>One-Off Studio Setup/Consulting Fee</span>
                                <span class="hprn-calc-price">R 45,000.00 (CapEx)</span>
                            </label>
                            <input type="number" name="design-cap-ex" id="design-cap-ex" class="hprn-calc-input" min="0" max="1" value="0" step="1" placeholder="Enter 1 to include fee">
                        </div>
                    </div>
                    
                    <!-- Group 4: Once-Off CapEx -->
                    <div class="config-group-title">Hardware & Smart Technology</div>

                    <!-- SERVICE BLOCK: Hardware (CapEx) -->
                    <div class="hprn-pricing-feature-card service-block" id="config-hardware">
                        <h3>Enterprise Hardware Procurement & Setup</h3>
                        <p class="card-description">CapEx for procurement and setup of essential physical infrastructure.</p>
                        <div class="hprn-calc-input-group">
                            <label for="workstations-num" class="hprn-calc-label">
                                <span>Premium Workstations/Laptops (Procurement)</span>
                                <span class="hprn-calc-price">R 35,000.00 /unit (CapEx)</span>
                            </label>
                            <input type="number" name="workstations-num" id="workstations-num" class="hprn-calc-input" min="0" max="100" value="0" step="1">
                        </div>
                        <div class="hprn-calc-input-group">
                            <label for="smart-tech-units" class="hprn-calc-label">
                                <span>Smart Tech Units (POS, Queue, A/V) Setup</span>
                                <span class="hprn-calc-price">R 18,000.00 /unit (CapEx)</span>
                            </label>
                            <input type="number" name="smart-tech-units" id="smart-tech-units" class="hprn-calc-input" min="0" max="50" value="0" step="1">
                        </div>
                    </div>
                    
                </form>
            </div>
        </div>
    </main>

    <!-- 
      ============================================================
      Footer Section
      ============================================================
    -->
    <footer class="hprn-pricing-footer">
        <div class="hprn-pricing-container">
            <h4>Disclaimer</h4>
            <p>
                This Enterprise Service Configuration Console provides advanced estimates based on the provided inputs and standard assumptions. All costs are illustrative and should be confirmed with a formal quotation from our sales team. The 10% annual discount is applied before VAT.
            </p>
        </div>
    </footer>

    <!-- 
      ============================================================
      JavaScript for Calculator Logic and UI Toggling
      ============================================================
    -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Conversion Constants ---
            const CONVERSION = {
                HOURS_PER_DAY: 8,
                DAYS_PER_WEEK: 5,
                MONTHS_PER_YEAR: 12,
                ANNUAL_DISCOUNT_FACTOR: 0.90 // 10% discount
            };
            
            // --- Define Prices (ZAR, Enterprise Level) ---
            const PRICES = {
                // Software Development
                devHourRate: 1200,      // CapEx
                
                // Managed IT Infrastructure
                cloudVM: 2200,          // OpEx
                supportPlanUser: 1500,  // OpEx per staff member
                datacenterSite: 15000,  // OpEx per site/rack
                cctvPoints: 600,        // OpEx per point
                
                // Marketing & Creative Studio
                designRetainerHour: 900, // OpEx (per hour/mo)
                studioSetupFee: 45000,   // CapEx (one-off)

                // Hardware & Smart Tech (CapEx)
                workstation: 35000,
                smartTechUnit: 18000 
            };

            // --- Get Elements ---
            const calcForm = document.getElementById('calc-form');
            
            // Configuration Inputs (using name attribute for simpler selection)
            const inputs = {
                // Software Development
                devDurationNum: document.getElementById('dev-duration-num'),
                devDurationUnit: document.getElementById('dev-duration-unit'),
                devopsCost: document.getElementById('devops-plan'),
                devopsCommitment: document.getElementById('devops-commitment'),
                
                // Managed IT Infrastructure
                cloudVMCount: document.getElementById('cloud-vm-num'),
                cloudCommitment: document.getElementById('cloud-commitment'),
                supportCost: document.getElementById('support-plan'),
                staffSizeNum: document.getElementById('staff-size-num'),
                datacenterSites: document.getElementById('datacenter-sites-num'),
                cctvPoints: document.getElementById('cctv-points-num'),
                
                // Marketing & Creative Studio
                marketingCost: document.getElementById('marketing-plan'),
                campaignDurationNum: document.getElementById('campaign-duration-num'),
                campaignDurationUnit: document.getElementById('campaign-duration-unit'),
                designHours: document.getElementById('design-hours-num'),
                designCapEx: document.getElementById('design-cap-ex'),

                // Hardware & Smart Tech
                workstations: document.getElementById('workstations-num'),
                smartTechUnits: document.getElementById('smart-tech-units')
            };

            // Outputs
            const monthlyDisplay = document.getElementById('total-monthly-display');
            const onceOffDisplay = document.getElementById('total-once-off-display');
            const annualizedDisplay = document.getElementById('total-annualized-display');

            // Service Selector Checkboxes and Config Blocks
            const serviceCheckboxes = document.querySelectorAll('.hprn-service-list-item input[type="checkbox"]');
            const configBlocks = document.querySelectorAll('.service-block');

            // --- Helper Functions ---

            // Format number as ZAR
            function formatCurrency(value) {
                // Ensure value is a safe number
                const safeValue = isNaN(value) ? 0 : Math.max(0, value);
                return new Intl.NumberFormat('en-ZA', { 
                    style: 'currency', 
                    currency: 'ZAR',
                    minimumFractionDigits: 0 // Keep it clean for enterprise display
                }).format(safeValue);
            }

            // Reset inputs when a service is deselected
            function resetServiceInputs(blockId) {
                const block = document.getElementById(blockId);
                if (block) {
                    block.querySelectorAll('input[type="number"]').forEach(input => input.value = 0);
                    block.querySelectorAll('select').forEach(select => {
                        // Reset plans to R 0.00
                        if (select.id.endsWith('-plan') || select.id.endsWith('-cost')) {
                             select.value = 0;
                        } 
                        // Reset duration/commitment to default (1 or Monthly/Hours)
                        else if (select.id.includes('duration') || select.id.includes('commitment')) {
                            select.value = 1;
                        }
                    });
                }
            }

            // --- UI Toggling Logic ---
            function handleServiceToggle(event) {
                const checkbox = event.target;
                const configBlockId = checkbox.getAttribute('data-target');
                const configBlock = document.getElementById(configBlockId);

                if (!configBlock) return;

                if (checkbox.checked) {
                    configBlock.style.display = 'block';
                } else {
                    configBlock.style.display = 'none';
                    resetServiceInputs(configBlockId);
                }
                
                calculateTotal();
            }

            // --- Main Calculation Function ---
            function calculateTotal() {
                let totalMonthly = 0;
                let totalOnceOff = 0;
                let totalAnnualCommitmentFactor = 0; // Tracks if any annual commitment is made (1 for no discount, 0.9 for discount)
                
                // ----------------------------------------------
                // 1. Software Development
                // ----------------------------------------------
                
                // Project Development Hours (CapEx - Duration Logic)
                if (document.getElementById('check-dev-hours').checked) {
                    const durationNum = parseFloat(inputs.devDurationNum.value) || 0;
                    const durationUnitFactor = parseFloat(inputs.devDurationUnit.value) || 1; // 1 (Hour), 8 (Day), 40 (Week), 160 (Month)
                    
                    const totalHours = durationNum * durationUnitFactor;
                    totalOnceOff += totalHours * PRICES.devHourRate;
                }
                
                // DevOps & Maintenance Plan (OpEx - Commitment)
                if (document.getElementById('check-devops').checked) {
                    const devopsCost = parseFloat(inputs.devopsCost.value) || 0;
                    totalMonthly += devopsCost;

                    // Check for Annual Commitment Discount
                    if (parseFloat(inputs.devopsCommitment.value) === CONVERSION.MONTHS_PER_YEAR) {
                        totalAnnualCommitmentFactor = CONVERSION.ANNUAL_DISCOUNT_FACTOR;
                    }
                }

                // ----------------------------------------------
                // 2. Managed IT Infrastructure
                // ----------------------------------------------
                
                // Cloud Computing (OpEx - Commitment)
                if (document.getElementById('check-cloud-compute').checked) {
                    const vmCount = parseFloat(inputs.cloudVMCount.value) || 0;
                    totalMonthly += (vmCount * PRICES.cloudVM);

                    // Check for Annual Commitment Discount
                    if (parseFloat(inputs.cloudCommitment.value) === CONVERSION.MONTHS_PER_YEAR) {
                        totalAnnualCommitmentFactor = CONVERSION.ANNUAL_DISCOUNT_FACTOR;
                    }
                }

                // IT Support & Staff Size (OpEx - Scaling)
                if (document.getElementById('check-support-plan').checked) {
                    const supportCost = parseFloat(inputs.supportCost.value) || 0;
                    const staffSize = parseFloat(inputs.staffSizeNum.value) || 0;
                    
                    totalMonthly += supportCost; // Base plan cost
                    totalMonthly += (staffSize * PRICES.supportPlanUser); // Per user fee
                }
                
                // Data Center & Surveillance (OpEx)
                if (document.getElementById('check-datacenter').checked) {
                    const sites = parseFloat(inputs.datacenterSites.value) || 0;
                    const cctvPoints = parseFloat(inputs.cctvPoints.value) || 0;
                    totalMonthly += (sites * PRICES.datacenterSite);
                    totalMonthly += (cctvPoints * PRICES.cctvPoints);
                }

                // ----------------------------------------------
                // 3. Marketing & Creative Studio
                // ----------------------------------------------
                
                // Digital Marketing Campaigns (OpEx - Duration)
                if (document.getElementById('check-marketing').checked) {
                    const marketingCostPerMonth = parseFloat(inputs.marketingCost.value) || 0;
                    const durationNum = parseFloat(inputs.campaignDurationNum.value) || 0;
                    const durationUnitFactor = parseFloat(inputs.campaignDurationUnit.value) || 1; // 1 (Month), 4 (Quarter), 12 (Year)
                    
                    // Total campaign OpEx is calculated and added as a one-off fee, as it's a project cost
                    const totalMonths = durationNum * durationUnitFactor;
                    const totalMarketingFee = marketingCostPerMonth * totalMonths;

                    // We will keep the monthly OpEx zero for this component since the duration is fixed
                    // totalMonthly += marketingCostPerMonth; 
                    
                    // Instead, we will add the total value to CapEx/One-Off to reflect a "Campaign Budget" style total
                    totalOnceOff += totalMarketingFee; 
                }
                
                // Graphic Design Retainer (OpEx & CapEx)
                if (document.getElementById('check-design-hours').checked) {
                    const designHours = parseFloat(inputs.designHours.value) || 0;
                    const setupFeeInput = parseFloat(inputs.designCapEx.value) || 0;
                    
                    totalMonthly += designHours * PRICES.designRetainerHour;

                    // Only add the setup fee if the user enters 1
                    if (setupFeeInput >= 1) {
                         totalOnceOff += PRICES.studioSetupFee;
                    }
                }
                
                // ----------------------------------------------
                // 4. Hardware & Smart Tech (CapEx)
                // ----------------------------------------------
                
                // Hardware Procurement (CapEx)
                if (document.getElementById('check-hardware').checked) {
                    const workstations = parseFloat(inputs.workstations.value) || 0;
                    const smartTechUnits = parseFloat(inputs.smartTechUnits.value) || 0;
                    
                    totalOnceOff += (workstations * PRICES.workstation);
                    totalOnceOff += (smartTechUnits * PRICES.smartTechUnit);
                }
                
                // --- Final Calculations ---
                
                let totalAnnualized = totalMonthly * CONVERSION.MONTHS_PER_YEAR;

                // Apply Commitment Discount to all OpEx if an annual commitment was selected for either service
                if (totalAnnualCommitmentFactor === CONVERSION.ANNUAL_DISCOUNT_FACTOR) {
                    totalAnnualized = totalAnnualized * CONVERSION.ANNUAL_DISCOUNT_FACTOR;
                }


                // Update display
                monthlyDisplay.innerText = formatCurrency(totalMonthly);
                onceOffDisplay.innerText = formatCurrency(totalOnceOff);
                annualizedDisplay.innerText = formatCurrency(totalAnnualized);
            }

            // --- Event Listeners and Initial Setup ---
            
            // 1. Initial Setup: Hide all configuration blocks
            configBlocks.forEach(block => {
                block.style.display = 'none';
            });
            
            // 2. Add listener to all service selection checkboxes
            serviceCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', handleServiceToggle);
            });
            
            // 3. Add listener to all configuration inputs (Numbers, Selects)
            // Use a broader selector to catch all relevant inputs/selects on the form
            calcForm.querySelectorAll('input, select').forEach(input => {
                input.addEventListener('input', calculateTotal);
            });

            // 4. Handle form reset
            calcForm.addEventListener('reset', (event) => {
                event.preventDefault(); 
                
                // Manually uncheck/reset all controls
                serviceCheckboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                         checkbox.checked = false; 
                         handleServiceToggle({ target: checkbox }); 
                    }
                });
                
                // Force all form elements to default values (important for selects)
                calcForm.reset();
                
                // Recalculate after reset
                calculateTotal(); 
            });

            // 5. Initial Calculation
            calculateTotal();

        });
    </script>

</body>
</html>
